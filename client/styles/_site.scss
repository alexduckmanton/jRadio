$site_width: 90%;
$site_margin: (100% - $site_width) / 2;

@mixin site_position($x) {
    @include transform3d( translate3d($x,0,0) );

    &.show_tray {
        @include transform3d( translate3d($x,$played_height,0) );
    }
}

.site {
    padding-bottom: 2em;
    text-align: center;

    position: absolute;
    top: 0;
    left: 0;
    width: 90%;
    height: 100%;
    overflow: auto;

    // enable inertial scrolling for ios and android
    -webkit-overflow-scrolling: touch;

    @include box-sizing(border-box);
    @include single-transition(all);

    @include site_position(-100% + $site_margin);

    &:after {
        content: '';
        position: absolute;
        width: 100%;
        top: 0;
        left: 0;
        opacity: 1;

        @include single-transition(opacity);
    }

    &.active {
        @include site_position($site_margin);

        &:after {
            // display: none;
            width: 0;
            opacity: 0;
        }
    }

    &.active ~ & {
        @include site_position(100% + $site_margin);
    }
}
