$site_width: 90%;
$site_margin: 6%;

@mixin site_position($x) {
    @include transform3d( translate3d($x,0,0) );
    // left: $x;
    // top: 0;

    &.show_tray {
        @include transform3d( translate3d($x,$played_height,0) );
        // left: $x;
        // top: $played_height;
    }
}

.site {
    padding-bottom: 2em;
    text-align: center;

    position: fixed;
    top: 0;
    right: 0;
    width: 90%;
    height: 100%;
    z-index: 1;

    @include box-sizing(border-box);
    @include single-transition(-webkit-transform);

    @include site_position(0);

    &:after {
        content: '';
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        opacity: 1;

        @include single-transition(opacity);
    }

    &.active {
        z-index: 2;
        height: inherit;
        position: absolute;
        @include site_position(-$site_margin);

        &:after {
            // display: none;
            width: 0;
            opacity: 0;
        }
    }

    &.active ~ & {
        @include site_position(-$site_margin*2);
    }
}
